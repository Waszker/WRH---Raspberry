{% autoescape None %}
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>RaspberryPI</title>

		<script type="text/javascript" src="{{ static_url("scripts/script.js") }}"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="{{ static_url("scripts/canvasjs.min.js") }}"></script>

		<link type="text/css" rel="stylesheet" media="all" href="{{ static_url("styles/main_style.css") }}" />

	</head>
	<body onload="init()">
		<div class="main_div">

			<!-- Tabbed webpages taken from: http://www.elated.com/articles/javascript-tabs/ -->
			<ul id="tabs">
				<li>
					<a href="#general_info">Informacje ogólne</a>
				</li>
				{%for mclass, _ in classes.iteritems()%}
				<li>
					<a href="#{{mclass}}">{{mclass}}</a>
                </li>
				{%end%}
				<li>
					<a href="#files">Przeglądarka plików</a>
				</li>
			</ul>

			<!-- Here will be general info about whole system -->
			<div class="tabContent" id="general_info">
				<h2>Statystyki systemu</h2>
				<div>
                    <div id="systemDiv"></div>
                    <br />
                    <button type="button" onclick="getUptime()">Refresh</button>
				</div>
			</div>

            {%for mclass, _ in classes.iteritems()%}
			<div class="tabContent" id="{{mclass}}">
			    {%for m in modules%}
			        {%if m.type_number == mclass%}
			        {{m.get_html_representation(ipaddress)}}
			        {%end%}
			    {%end%}
            </div>
			{%end%}

			<!-- Files that can be put or retrieved -->
			<div class="tabContent" id="files">
				<h2>Wgrywanie plików</h2>
				<div>
					<ul>
						<li id = "title">
							Pliki na serwerze
						</li>
						{%for item in items%}
						<li id="file">
							<a href="http://{{ipaddress}}:8888/show?filename={{item}}">{{item}}</a>
						</li>
							{%end%}
					</ul>
					<div id="formcontainer" align="center">
						<form action="/upload" enctype="multipart/form-data" method="post">
							<p>
								<input type="file" name="filearg">
								<input type="submit" value="upload">
							</p>
						</form>
					</div>
				</div>

			</div>

		</div>
	</body>
</html>
